# **[State](https://www.wikiwand.com/en/State_pattern)**

## 理论精解

状态模式将特定的状态相关的行为都放入一个对象中，由于所有与状态相关的代码都存在于某个具体状态类中，所以通过定义新的子类可以很容易地增加新的状态和转换。通俗点说，状态模式是为了消除庞大的条件分支语句，通过把判断语句转换到子类中，来减少相互间的依赖，使系统更易于维护。

### 何时使用状态模式呢 ？

1. 一个对象的行为取决于它的状态, 并且它必须在运行时刻根据状态改变它的行为。
2. 代码中包含大量与对象状态有关的条件语句:一个操作中含有庞大的多分支的条件（if else(或switch case)语句，且这些分支依赖于该对象的状态。这个状态通常用一个或多个枚举常量表示。通常 , 有多个操作包含这一相同的条件结构。 State模式将每一个条件分支放入一个独立的类中。这使得你可以根据对象自身的情况将对象的状态作为一个对象，这一对象可以不依赖于其他对象而独立变化。

### 策略模式-状态模式/模版模式的区别
Strategy模式与State模式的结构形式几乎完全一样。但它们的应用场景（目的）却不一样
State模式重在强调对象内部状态的变化改变对象的行为，Strategy模式重在外部对策略的选择，策略的选择由外部条件决定，也就是说算法的动态的切换。但由于它们的结构是如此的相似，我们可以认为“状态模式是完全封装且自修改的策略模式”。

<img src="/uml/state_uml.png" alt="state uml model" />